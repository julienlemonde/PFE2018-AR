\documentclass[letterpaper,twoside,12pt,french]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage[top=2.5cm,bottom=2.5cm,left=2.5cm,right=2.5cm,asymmetric]{geometry}
\usepackage{hyperref}
\usepackage{hypcap}
\usepackage{titlesec}
\usepackage{ragged2e}
\usepackage{hyphenat}
\usepackage{berasans}
\usepackage{setspace}
\usepackage{natbib}
\usepackage{float}

\usepackage{abstract}
\renewcommand{\abstractname}{}
\renewcommand{\absnamepos}{empty}
\renewcommand*\familydefault{\sfdefault}
\usepackage[T1]{fontenc}

\usepackage{graphicx}
\graphicspath{{diagrams/}}

\hypersetup{pdftex,colorlinks=true,allcolors=blue}
\newcommand{\reportTitle}{\uppercase{Détection de modèle humain\\Pour application de réalité augumentée}}
\newcommand{\reportAuthors}{Vincent \uppercase{Boiteau-Robert\\BOIV14029409}\\Marc-Antoine \uppercase{Hébert\\HEBM14019401}\\Julien \uppercase{Lemonde\\LEMJ20059208}\\Alexandre \uppercase{Malo\\MALA0702940}}

\newcommand{\abbrItem}[2]{\item[\uppercase{\textbf{#1}} -] #2}
\setlength{\parskip}{1cm plus4mm minus3mm}

\titleformat
{\chapter}
[display]
{\bfseries\Large}
{}
{0ex}
{
    \vspace{0.2ex}
}
{
    \vspace{-0.5ex}
}

\titleformat
{\section}
[display]
{\bfseries\normalsize}
{}
{0ex}
{
    \vspace{-0.5ex}
}
{
    \vspace{-0.5ex}
}

\begin{document}
\setlength{\parindent}{0cm}\setlength{\parskip}{2ex minus 0.2ex}
\pagenumbering{Roman}
\begin{titlepage}
    \begin{center}
        \uppercase{Rapport technique de projet de fin d'études\\Présenté à l'école de technologie supérieure\\Dans le cadre du cours GTI795 Projet de fin d'études en TI}
        \vfill
        \textbf{\reportTitle}
        \vfill
        \reportAuthors
        \vfill
        \uppercase{Département de génie logiciel et TI}
        \vfill
        \textbf{Professeur-superviseur\\Carlos Vazquez}
        \vfill
        \uppercase{Montréal, 25 avril 2018\\Hiver 2018\\Université du Québec}
    \end{center}
\end{titlepage}
\cleardoublepage
\begin{abstract}
    \begin{center}
        \textbf{\uppercase{\Large{Résumé}}}
        \vspace{2ex}
        \\ \textbf{\reportTitle}
        \\ \vspace{1\baselineskip}
        \reportAuthors
        \\ \vspace{1\baselineskip}
        text résumé ici
    \end{center}
    \vspace{-\baselineskip}
\end{abstract}
\tableofcontents
\listoftables
\listoffigures
\chapter*{\uppercase{Liste des abbréviations}}
\begin{enumerate}
        \abbrItem{ÉTS}{École de Technologie Supérieure}
        \abbrItem{AR}{Augmented Reality ou en français Réalité Augmentée}
        \abbrItem{SDK}{Software Development Kit ou en français Trousse de développement logiciel}
        \abbrItem{API}{Application Programming Interface ou en français Interface de programmation}
        \abbrItem{AV}{audio-vidéo}
\end{enumerate}
\cleardoublepage
\pagenumbering{arabic}
\chapter*{\uppercase{Introduction}}
\addcontentsline{toc}{chapter}{INTRODUCTION}
La perforamnce des caméras des appareils mobiles est en constance croissance depuis quelques
années. Ce qui permet d'envisager l'usage de ces appareils dans des nouveaux domaines d'activités.
Un de ces domaine est la réalité augmentée, où la superposition d'éléments virtuels sur une
capture de l'environnement réel en temps réel. Une démocratisation du développement d'application
utilisant cette technologie c'est fait au cours de l'année précédente, 2017. En effet, la nouvelle
interface de programmation applicative ARKit conçu par appel offre un environnement de
développement simplifié au développur d'applications \citep*{StattN2017}. Toutefois, ces technologies
permettent l'interaction avec des modèles généré de façon synthétique. Un défi qui n'a pas encore
de solution reconnue est l'usage de modèles provenant de l'environnement de l'utilisateur dans la
réalité augmentée. Certaines technologies offrent des pistes de solution, mais leur taux d'adoption
et le nivewu de compatibilité avec les autres outils de l'environnement de développement Apple sont
limités.
\par
Une des technologies les plus intéressante est le Structure Sensor\citep*{molitchHou01}. Celle-ci
consiste en un périphérique qui doit être attacher à l'appareil. Le périphérique ajoute une caméra
et un senseur 3D. Avec l'usage de la caméra de l'appareil, celui de l'appareil ont peut avoir une
meilleur compréhension de l'environnemetn 3D. L'outils vient avec une trousse de développement
logiciel permettant de prendre les coordonées d'un objets sous quatres dimensions, x, y, z et la
couleur. Toutefois cette solution n'est pas très connu et a un nombre de ressources limités.
\par
Les deux technologies décrites plus haut apporte chacune des possibilités très intéressantes pour
le développement d'application de réalité augmentée. L'usa\hyp{}ge des fonctionnalité d'une dans l'autre
serait très intéressante. Toutefois au moment où l'équipe a débuté le projet, il n'y a pas
d'interface une telle combinaison. Les deux interfaces utilisent la caméra, par contre chacun
utilise un utilitaire différent pour le contrôle de celle-ci. Les deux utilisent des modèles
numériques 3D, mais chacun a choisi une norme différente. En effet, le Structure Sensor permet
l'extraction en Modèle I/O. Alors que le ARKit utilise les modèles de type scène qui est un format
propriètaire à Apple. Le principal défi du projet consistera à la combinaison de plusieurs
interfaces de programmation pour créer un outils fonctionnel.
\par
Comme décrit dans la section précédente, le principal objectif du projet est la création d'une
interface entre deux technologies mobiles, soit un périphérique d'acquisition de modèle 3D, le
Structure Sensor et la trousse de développement de réalité augmentée d'Apple. Autrement dit,
l'équipe s'attend en fin de session d'avoir produit une application mobile permettant la prise
de modèle à l'aide du senseur. L'application permettra d'ajouter un modèle extrait sur une surface
plane. L'application permet cette chaîne d'action avec une expérience utilisateur agréable et
naturelle à l'utilisateur.
\par
L'application décrite ci-haut représente les attentes pessimistes par rapport aux résultats finaux.
Toutefois, une telle application apporte un éventail de possibilités sur la manipulation de
l'environnement augmentée. Par exemple, une des retombées envisageables et
commercialisable est la numérisation de catalogue de magasin comme Ikea. L'usager peut
donc ajouter un item dans une pièce de sa maison. Si plusieurs couleurs sont disponibles pour
un modèle, chacune des variantes seront disponibles à la modélisation.
\par
Une autre ouverture technologique, qu'une telle application apporterait, est dans un contexte
d'animation 3D. En effet, la création d'un modèle permettrait l'ajout d'un squelette dans celui-ci.
Une fois le squelette créé l'animation du modèle pourrait être fait. Cette possibilité est
particulièrement intéressante pour l'équipe en charge du projet. Dans l'éventualité où la vision
de base du projet sera complétée avant la fin de la session d'Hiver 2018, l'équipe compte se
concentrer sur la création de ce squelette et possiblement la manipulation de celui-ci. La création
de positionnement clé des noueds du squelette pourra être enregistrer afin de permettre l'animation.
L'animation libre est un trop grand défi étant donné les contraintes de temps.
\par
L'objectif principal semble réaliste pour l'équipe de développement étant donné les interfaces déjà
présente pour chacune des technologies. Toutefois, le défi reste important étant donné le manque de
cohérence entre les différentes technologies. Le manque de documentation et de support pour le
Structure Sensor risque d'amener un ensemble de défi supplémentaire.
\par
Par contre, l'équipe de développement considère le temps disponible à la résolution d'un tel enjeu
adéquat. L'expérience en recherche d'information et apprentissage autonome acquis au cours des
formations et stages des membres de l'équipe laisse envisager un succès
\par
Pour ce qui est en la complétion des objectifs accessoire, les limitations de temps rendent
l'estimation de succès plus difficile. Par contre, il est clair que la réalisation de ceux est
apporterait un plus considérable à l'expérience de chacun des membres. La motivation de l'équipe
face à l'enjeu améliore les propabilité de terminer ces objectifs.
\par
Ce rapport consite donc en un suivi des étapes qui permettront de valider ou invalider les
hypothèses décrite si haut. Afin de résoudre un tel défi, l'équipe a du se fier sur les
documentations disponibles en lien avec les technologies ciblés. Un résumé de celles qui ont été
utiles à la résolution du problème sera présenté.
\par
Par la suite, une présentation de la méthodologie utilisée par l'équipe sera décrite. Les étapes
ayant permis la conception de la solution seront par la suite présentées. Une analyse sur le produit
obtenue sera explorer. Afin de clore le projet, les possibilité que la solution apporte à un groupe voulant poursuivre ou
implémenter un projet semblables seront expliquées. L'équipe fera s'est recommandation en fonction
de l'expérience acquise lors du développement.
\chapter*{\uppercase{Revue de la documentation}}
\addcontentsline{toc}{chapter}{REVUE DE LA DOCUMENTATION}
Afin de réaliser le projet, l'équipe de développement a du faire des recherche préliminaire. Les
technologies utilisées n'étaient pas maitrisées par l'équipe au démarrage du projet. Donc, les
recueille de documentation et les projets exemples présents sur internet ont été une bonne source
d'information.
\par
Cette section présentera donc ces ressources pour les grandes parties du projets,
soit le périphérique Structure Sensor, la trousse de développement logiciel de réalité augmentée de
Apple et la gestion de projet.
\section*{Structure Sensor}
\addcontentsline{toc}{section}{Structure Sensor}
Occipital, la compagnie propriétaire du périphérique, publie régulièrement une version de leur
trousse de développement logiciel exposant des interfaces de programmation. La dernière version
publier par la compagnie est la version 0.7.1 en février 2018. \citep*{occipitalsdk} La version du
SDK étant inférieur à 1.0.0, on comoprends que la première version complète est encore en
développement.
\par
Dans l'état actuel, le SDK fourni quand même une liste d'interface disponible dans deux fichiers,
Structure et StructureSLAM. Le permier est composé des différentes interfaces de contrôle du
périphérique. Alors que le deuxièeme est un regroupement des classes permettant le contrôle des
mailles en position tridimensionnelles et les textures de ceux-ci.
\par
Ces interfaces seront la base de la conception du module de prise de modèle grâce au périphérique.
Les tâches de chacunes des interfaces ont été identifiées lors de la lecture du code des entêtes
des interfaces en Objective-C. L'équipe a produit un diagramme de classe afin d'améliorer la
compréhension des responsabilité de chacune des interfaces et les relations entre celles-ci,
Celui-ci est présenté à la page suivante.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{StructureClassDiagram.eps}
\centering
    \caption{Diagramme de classes du Structure Sensor SDK}
\end{figure}

Dans le diagramme, on constate que plusieurs patrons de conception ont été utilisé et exposé dans
l'interface. La classe STSensorControllerDelegate servira de point d'ancrage entre notre
applications et le Structure Sensor. Cette interface permet donc de réduire les communication ou 
les recherches d'informations dans la logique d'affaire. La plus part de l'usage du SDK dans
l'application devra être fait par cette classe. \citep*{bpse01}
\par
Le Structure Sensor utilise les DepthFrame et ColorFrame pour comprendre l'environnement dans lequel
il est utilisé. Ces concepts ont été introduits par Kinect un des premiers Senseurs 3D ayant connu
un succès commercial étant donné sont intégration dans l'environnement Xbox 360 de Microsoft.
\citep*{microsoft01}
\par
Le Structure SDK contient aussi plusieurs exemples d'application afin de guider les développeurs dans
le développement de leurs applications. Le plus intéressant pour l'objectif du projet est le
Scanneur. Celui-ci permet de convertir un objet dans l'espace de test en un modèle 3D et l'envoyer
par courriel. D'autre fonction inclus dans cet exemple sont la colorisation du modèle et les
différentes options de capture. L'espace de capture est aussi indiqué par un cube et un plan
utilisant les couleurs pour indiquer les objets qui peuvent être capturer.
\par
Les principales sections du SDK utilisé dans cet exemple sont le STStructureSensorDelegate pour le
contrôle du périphérique. Les STDepthFrames et les STColorFrames ou en français les grilles de
profondeurs et les grilles de couleurs permettant de créer le modèle STMesh. Une fois le modèle
scanner en maille celui-ci est présenté dans le MeshViewController grâce au rendu de maille,
STMeshRenderer. Le language de programmation utilisé dans la globalité du SDK est le Objective-C.
\par
Dans le but d'utiliser des technologies qui sont à jour avec les pratiques de l'industrie, l'équipe
de développement souhaite utiliser le nouveau langage de programmation Swift. Celui-ci est la
nouveau langage proposé par Apple pour le développement mobile. Le langage est déjà à sa quatrième
version majeure et a pour but de simplifier la syntax qui était au par avant utilisé soit le
Objective-C. \citep*{swift01} Un membre de la communauté de développeur Structure à produit un
port de l'exemple de Scanneur en Swift 2. L'équipe devra donc faire les changement nécessarie à
cette version pour la compiler avec la version 4. \citep*{structureScannerSwift}
\par
L'exemple de scanneur qui sera utilisé comme base du module de scan utilise plusieurs autres APIs
par Apple. Ces APIs sont documenter sur le site de Apple dans la section pour développeurs.
\citep*{appleDev} L'équipe utilisera donc cette ressources en ligne pour compléter la tâche.
\chapter*{\uppercase{Méthodologie de travail}}
\addcontentsline{toc}{chapter}{MÉTHODOLOGIE DE TRAVAIL}
La démarche entrepris par l’équipe de développement pour compléter le projet a été basé la
combinaison des acquis obtenus dans les projets résolus en stage et au cours du processus
universitaire. Toutefois la nature du projet de fin d’étude comprends des contraintes et conditions
qui ont du être pris en compte.
\section*{Planification}
\addcontentsline{toc}{section}{Planification}
Tout d’abord, aucun des membres de l’équipe avait des connaissances dans les technologies qui
devaient être traitées dans les projets. Il a donc été nécessaire de faire une recherche
préliminaire afin de gagner une compréhension nécessaire à la planification du projet. La
recherche à permis de répondre à des enjeux sur qu’elles étaient les principales parties du projet?
Quelle technologies étaient inclus implicitement au ARKit et Structure Sensor? Quel environnement
de développement devait être utilisé? Est-ce que les objectifs étaient réalisent dans les
contraintes de temps et de ressources?
\par
Suite à cette recherche, le projet ayant été jugé comme réalisable a été séparé en plusieurs modules.
C’est à dire des parties du projets qui peuvent être développer indépendamment et être assigner à
différents étudiants. Ayant conscience de la possibilité de bloquants au cours du développement
cette technique permet de ne pas limiter l’avancement du projet complet, dès qu’il y a un problème.
Les différents modules identifiés sont: le développement du scanner avec le Structure Sensor, le
développement de l’environnement AR et le développement du squelette dans le modèle humain. Le
dernier module a été identifié comme accessoire étant donné l’importance de l’enjeu. De plus, le
développement des deux premiers modules et leur combinaison est déjà important en taille et
complexité.
\par
Une fois les deux modules principaux identifiés une séparation de l'équipe de développement a été
fait. La séparation visait à permettre à chacun de se concentrer sur un type d'enjeu et de
diminuer la grosseur des défis. De plus, cette méthode a permit de répondre à des contraintes qui
entourait le projet et les technologies disponibles. En effet, un seul périphérique Structure
Sensor était disponible. De plus, trois développeurs sur quatre avaient accès à un appareil Apple
mobile.
\par
Une fois les sous-équipes identifiées celles-ci ont du séparer lister les tâches à
accomplir, les ressources documentaires disponibles au tour de leur technologie et lister les
risques que leurs technologies impliquaient. Ces informations ont été ajouté au plan de projet avec
la description du projet et la mise en situation. Les tâches ont été par la suite séparés en trois
jalons de développement.
\par
Pour le module de Structure Sensor, les trois jalons consiste en le transfert du projet Scanneur en
swift 2 en swift 4 pour le premier. Pour le second, la cible était l'intégration dans la structure 
de l'application AR et le transfert du modèle dans l'application. Le troisième consistait en la 
conception d'une interface visuelle adéquate et une possibilité de faire un début de squelette sur
le modèle humain.
\par
Pour le module de réalité augmentée, les trois jalons sont la sélection d'un modèle dans une liste,
l'ajout dans la scène et la suppression de celui-ci pour le premier. Pour le second, la modification
à l'aide des gestures classique d'éditions d'objets sur un appareil mobiles. Pour le troisième, la
conception de l'interface visuelles et une possibilité de contrôle des poses du squelettes haumains.
\section*{Jalon}
\addcontentsline{toc}{section}{Jalon}
Chaque jalon représentant une partie du travail à faire contiendra toujours un certains nombres 
commun de regroupement de tâche. Pour commencer avant d'entreprendre toute forme de travail des
recherches doivent être fait. Les éléments concernants les différentes méthodes de réalisation d'une
tâches et les avantages et désavantages de chacun de celles-ci doivent être identifiées.
\par
Par la suite, suite une solution doit être sélectionner en comparant les avantages et désavantages.
Le contexte de développement de l'application doit être aussi pris en cause. Une fois la solution
choisie, l'adaptation de la conception de la solution doit être fait pour le cadre du projet. Si
la solution s'intégre au sein d'une autre solution, les documents de conceptions de la solution
parentes sont adaptées. La conception est donc souvent itératives à travers les jalons et les
tâches.
\par
Par la suite, la solution est intégrées dans l'application à l'aide de l'editeur spécialisé XCode.
La compilation et la mise en marche est testé sur un appareil mobile Apple au fur à mesure du
développement afin d'éviter les mauvaise surprise en fin de jalon. Une fois, une tâche terminé
le cas d'utilisations principal de l'application est testé pour s'assurer qu'aucune autre
fonctionnalités à été brisées.
\par
Le jalon est par la suite terminé avec une revue du travail fait avec une présentation préparé par
l'équipe pour le superviseur du projet. Dans ces revues ont discute du travail fait, des bloquants
et du travail à faire. Les artéfacts de conception et documents de projets doivent aussi être mis à
jour.
\section*{Clôture}
\addcontentsline{toc}{section}{Clôture}
Le développement applicatif terminer, certains tâches doivent être fait afin de clore le projet.
Parmis celle-ci est la revue des résultats obtenue par l'équipe de développement. Cette tâche a pour
but d'évaluer l'état de l'application par rapport au résultat qui était attendu en début de projet.
Dans le cas de différences entre les attentes et le produit final, un bilan de justification  doit
être tenu.
\par
Par la suite, l'équipe devra listé ces recommendation qui pourrait servir à une autre équipe voulant
poursuivre le projet. Le contexte de projet de fin d'études permet en effet la poursuite d'un tel
projet. Alors un transfert de connaissance doit être préparé afin de limiter les frictions des
futures parties prenantes au projet. Les deux dernières tâches permettront la préparation de la
présentation qui sera fait en fin de projet devant d'autres étudiants finissants.
\chapter*{\uppercase{Processus de conception}}
\addcontentsline{toc}{chapter}{PROCESSUS DE CONCEPTION}
processus text
\chapter*{\uppercase{Discussion}}
\addcontentsline{toc}{chapter}{DISCUSSION}
discussion text
\chapter*{\uppercase{Conclusion}}
\addcontentsline{toc}{chapter}{CONCLUSION}
conclusion text
\newpage
\begin{spacing}{1}
    \nocite{*}
    \bibliographystyle{bibETS}
    \addcontentsline{toc}{chapter}{BIBLIOGRAPHIE}

    \bibliography{biblio_fr}
\end{spacing}
\end{document}
